import{useRef as r,useEffect as n,useMemo as t,useReducer as e,useCallback as u}from"react";function c(e,u,c){const i=r(null),o=r(0),a=r(null),l=r([]),f=r(),s=r(),m=r(e),d=r(!0);m.current=e;const g="undefined"!=typeof window,p=!u&&0!==u&&g;if("function"!=typeof e)throw new TypeError("Expected a function");u=+u||0;const w=!!(c=c||{}).leading,x=!("trailing"in c)||!!c.trailing,h="maxWait"in c,y="debounceOnServer"in c&&!!c.debounceOnServer,F=h?Math.max(+c.maxWait||0,u):null;n(()=>(d.current=!0,()=>{d.current=!1}),[]);const A=t(()=>{const r=r=>{const n=l.current,t=f.current;return l.current=f.current=null,o.current=r,s.current=m.current.apply(t,n)},n=(r,n)=>{p&&cancelAnimationFrame(a.current),a.current=p?requestAnimationFrame(r):setTimeout(r,n)},t=r=>{if(!d.current)return!1;const n=r-i.current;return!i.current||n>=u||n<0||h&&r-o.current>=F},e=n=>(a.current=null,x&&l.current?r(n):(l.current=f.current=null,s.current)),c=()=>{const r=Date.now();if(t(r))return e(r);if(!d.current)return;const a=u-(r-i.current),l=h?Math.min(a,F-(r-o.current)):a;n(c,l)},A=(...e)=>{if(!g&&!y)return;const m=Date.now(),p=t(m);if(l.current=e,f.current=this,i.current=m,p){if(!a.current&&d.current)return o.current=i.current,n(c,u),w?r(i.current):s.current;if(h)return n(c,u),r(i.current)}return a.current||n(c,u),s.current};return A.cancel=()=>{a.current&&(p?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,l.current=i.current=f.current=a.current=null},A.isPending=()=>!!a.current,A.flush=()=>a.current?e(Date.now()):s.current,A},[w,h,u,F,x,p,g,y]);return A}function i(r,n){return r===n}function o(r,n){return n}function a(n,t,a){const l=a&&a.equalityFn||i,[f,s]=e(o,n),m=c(u(r=>s(r),[s]),t,a),d=r(n);return l(d.current,n)||(m(n),d.current=n),[f,m]}function l(r,n,{leading:t=!0,trailing:e=!0}={}){return c(r,n,{maxWait:n,leading:t,trailing:e})}export{a as useDebounce,c as useDebouncedCallback,l as useThrottledCallback};
//# sourceMappingURL=index.mjs.map
